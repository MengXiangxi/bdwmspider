# 数据分析

## 性别比例分析

我们将用户分为一般用户、版务和管理者三类。其中基层用户为没有特殊身份的用户，版务为身份为版务的用户，管理者为有特殊身份但不是版务的用户。

用户类别 | 蓝ID (单项比) | 粉ID (单项比) | 绿ID (单项比) | 总数 (总体比)
--- | --- | --- | --- | ---
一般用户 | 24064 (55.7%) | 12553 (29.1%) | 6556 (15.2%) | 43173 (97.7%)
版务 | 557 (58.4%) | 240 (25.2%) | 157 (16.5%) | 954 (2.2%)
管理者 | 32 (69.6%) | 4 (8.7%) | 10 (21.7%) | 46 (0.1%)
合计 | 24653 (55.8%) | 12797 (29.0%) | 6723 (15.2%) | 44173

显然，管理者中的女性用户对于全体用户不具有代表性。假设管理者是全部用户的一个简单随机抽样，那么根据最大似然法，样本中的女性用户数量的99%置信区间约为[8,21]，而实际上管理者中的女性仅有4人。

![fig_MLE](https://raw.githubusercontent.com/MengXiangxi/bdwmspider/master/Analysis/fig_MLE.png)

> 简单随机抽样样本中的粉ID数量概率分布

## 影响因素分析

我们利用多元线性回归模型，对这一现象的成因进行了分析。

我们提出假设，可能是因为在宏观的社会文化因素影响下，女性用户虽然在BBS上注册了账号，但不倾向于积极发表文章参与网络社区的建设。如果这一假设成立，那么女性用户难以进入管理层就在一定程度上归因于网络社区之外的环境因素。

因此我们构建了一个发文数的线性回归模型。模型中的自变量包括性别（是否为保密，是否为女性），上站次数和获得原创分数量。模型结果表明，在对其他因素进行校正后，女性用户的发文数高于男性用户，且在95%置信水平下显著。这一结论推翻了上述假设。

![tab1](https://raw.githubusercontent.com/MengXiangxi/bdwmspider/master/Analysis/tab_model1.png)

> 发文数的线性回归模型

特殊生命力是由管理者授予的杰出用户的特殊荣誉。这一过程在很大程度上是依靠网友推荐和评选，因此较为客观，可以当作反映用户贡献度的重要指标。因此我们对特殊生命力构建了线性回归模型，研究用户贡献度的影响因素。模型的自变量包括性别、上站次数、原创分数量和发文数。

模型结果表明，在对其他因素进行校正后，相比男性，女性的用户贡献没有显著性差异；而性别保密的用户则有显著更大的贡献。这可能是因为参与度较高的网友往往对个人隐私的保护意识较强。

![tab2](https://raw.githubusercontent.com/MengXiangxi/bdwmspider/master/Analysis/tab_model2.png)

> 特殊生命力的回归模型

最后，我们研究担任职务的影响因素。这里担任职务，指的是除了一般用户之外的所有ID。我们同样构建了一个线性回归模型，研究了性别、上站次数、发文数、原创分数量和特殊生命力与担任职务之间的联系。在这个模型中，对其他因素进行校正后，性别反而是唯一不显著的因素。

![tab3](https://raw.githubusercontent.com/MengXiangxi/bdwmspider/master/Analysis/tab_model3.png)

> 担任职务的线性回归模型

## 进一步分析

我们采用了一个间接的方法比较了不同性别组在BBS上的参与度。在这个方法中，我们首先用人工神经网络对用户积分进行了预测，接着对该神经网络模型的预测结果进行了误差分析。

首先，我们从全部数据中排除了1000个数据作为分析集。对剩余的43173个数据，我们用其上站次数、发文数、生命力、原创分数量、是否为版务、是否为管理者作为自变量，用用户积分作为预测值，构建了全联通的三层误差反向传播神经网络，其中隐藏层有10个节点。

根据用户积分的计算规则，这些自变量数据是不充分的，包括在线时长等其它变量会对结果产生混杂。因此一个理想的、无过拟合的神经网络预测出的结果，应该是噪声的平均化效果。虽然这个模型并不能反推出具体的偏倚量，但对偏倚的总体趋势能有良好的反映。

在利用80%数据进行训练、20%数据进行验证之后，我们得到了一个均方差较小，且过拟合程度较低的训练结果作为预测模型，对事先预留的1000个测试样本进行了估计。对于这些测试样本的预测结果，我们结合其真实值计算了变异系数，并按性别绘制了变异系数的箱线图。

![fig_ANN](https://raw.githubusercontent.com/MengXiangxi/bdwmspider/master/Analysis/fig_ANN.png)

> 人工神经网络预测结果的误差分布

由箱线图中我们可以看出，本模型倾向于高估用户积分，但是相比其它性别，对女性的高估程度较低。高估程度越大，意味着用户存在的增加积分的隐性操作越少。由此表明，女性用户的隐性操作多于男性用户，也就意味着男性用户的网络行为更偏向活跃型，女性用户的网络行为更偏向旁观型。

通过这一分析，我们可以推测出女性用户难以进入BBS管理层的原因这一，可能是她们的网络参与习惯更加内敛。